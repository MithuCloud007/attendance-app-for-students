{% extends 'department/base.html' %}
{% load static %}
{% block content %}
<!-- Start Content-->
<div class="container-fluid">
   <div class="row">
      <div class="col-12">
         <div class="page-title-box">
            <!-- <h4 class="page-title"></h4>
            <div class="page-title-right">
               <ol class="breadcrumb p-0 m-0">
                  <li class="breadcrumb-item"><a href="#"></a></li>
                  <li class="breadcrumb-item"><a href="#"></a></li>
                  <li class="breadcrumb-item active"></li>
               </ol>
            </div> -->
            <div class="clearfix"></div>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="col-lg-12">
         <div class="card">
            <form method="POST">
               {% csrf_token %} 
               <div class="card-header ">
                  <div class="row">
                     <div class="col-md-8 card_header_title">
                        <i class="fab fa-gg-circle"></i>
                        Add Attendance
                     </div>
                     <!-- <div class="col-md-4 text-right card_header_btn">
                        <a class="btn btn-sm btn-secondary" href="">
                        <i class="fas fa-th fa-lg"></i>
                        All Course
                        </a>
                     </div> -->
                  </div>
                  <div class="clr"></div>
               </div>
               <div class="card-body">
                  <!-- <div class="row">
                     <div class="col-md-1">
                     </div>
                     <div class="col-md-10">
                        <div class="alert alert-primary alert_primary" role="alert">
                        </div>
                        <div class="alert alert-danger alert-danger" role="alert">
                        </div>
                     </div>
                     <div class="col-md-1">
                     </div>
                  </div> -->
                  <!-- <div class="form-group row ">
                     <label class="col-sm-3 control-label control_label">Student Id:<span class="req_star">*</span>:</label>
                     <div class="col-sm-7">
                        <input type="text" class="form-control form_control" name="student_id" id="student_id" value="" required />
                        <span class="invalid-feedback" role="alert">
                        <strong></strong>
                        </span>
                     </div>
                  </div>
                  <div class="form-group row">
                     <label class="col-sm-3 control-label control_label">Class Id:<span class="req_star">*</span>:</label>
                     <div class="col-sm-7">
                        <input type="text" class="form-control form_control" name="class_id" id="class_id" value="" required/>
                        <span class="invalid-feedback" role="alert">
                        <strong></strong>
                        </span>
                     </div>
                  </div>
                  <div class="form-group row">
                     <label class="col-sm-3 control-label control_label">Department Name:</label>
                     <div class="col-sm-7">
                        <input type="text" class="form-control form_control" name="department_name" id="department_name" value="" required/>
                        <span class="invalid-feedback" role="alert">
                        <strong></strong>
                        </span>
                     </div>
                  </div>
                  <div class="form-group row">
                     <label class="col-sm-3 control-label control_label">Mentor Name:</label>
                     <div class="col-sm-7">
                        <input type="text" class="form-control form_control" name="mentor_name" id="mentor_name" value="" required />
                        <span class="invalid-feedback" role="alert">
                        <strong></strong>
                        </span>
                     </div>
                  </div>
                  <div class="form-group row">
                     <label class="col-sm-3 control-label control_label">Status:</label>
                     <div class="col-sm-7">
                        <input type="text" class="form-control form_control" name="status" id="status" value="" required/>
                        <span class="invalid-feedback" role="alert">
                        <strong></strong>
                        </span>
                     </div>
                  </div> -->

                  {{ form.as_p }}
               </div>
               <div class="card-footer text-center">

                  <div class="btn-group">
                     <button type="submit" class="btn btn-md btn-secondary">SAVE</button>
                  </div>
               </div>
            </form>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="col-lg-12">
          <div class="card">
              <div class="card-header">
                  <div class="row">
                      <div class="col-md-8 card_header_title">
                          <i class="fab fa-gg-circle"></i>
                          All Student Attendance Info
                      </div>
                      <div class="col-md-4 text-right card_header_btn">
                          <!-- <a class="btn btn-sm btn-secondary" href="{% url 'department:department_add' %}">
                              <i class="fa fa-plus-circle"></i>
                              Add Department
                          </a> -->
                      </div>
                  </div>
                  <div class="clr"></div>
              </div>
              <div class="card-body">
                  <div class="row">
                      <div class="col-md-12 col-sm-12 col-12">
                          <table id="allTableInfo" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                              <thead class="">
                                  <tr>
                                      <th>Student Id</th>
                                      <th>Student Name</th>
                                      <th>Department</th>
                                      <th>Class Name</th>
                                      <th>Mentor Name</th>
                                      <th>Status</th>
                                      <th>Date</th>
                                      <th>Manage</th>
                                  </tr>
                              </thead>

                              <tbody>
                              {% for att in attendance %}
                                  <tr>
                                      <td>{{att.student_id.student_id}}</td>
                                      <td>{{att.student_id.first_name}} {{att.student_id.last_name}}</td>
                                      <td>{{att.student_id.department_name}}</td>
                                      <td>{{att.student_id.class_id.class_name}}</td>
                                      <td>{{att.student_id.mentor_name}}</td>
                                      <td>{{att.status}}</td>
                                      <td>{{att.attendance_date}}</td>

                                      <td>
                                          <div class="btn-group dropdown">
                                      <button type="button" class="btn btn-secondary waves-effect">Manage</button>
                                      <button type="button" class="btn btn-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                      <i class="mdi mdi-chevron-down"></i>
                                      </button>
                                      <ul class="dropdown-menu">
                                      <li><a href="{% url 'attendance:attendance_view' att.id %}" class="dropdown-item">View</a></li>
                                      <li><a href="#" class="dropdown-item">Edit</a></li>
                                      <li><a href="#"class="dropdown-item">Delete</a></li>    
                                      </ul>
                                      </div>
                                      </td>
                                  </tr>
                                 {% endfor %}                        
                              
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
              <div class="card-footer">
                  <!-- <div class="btn-group">
                      <button type="button" class="btn btn-purple waves-effect">PRINT</button>
                      <button type="button" class="btn btn-dark waves-effect">PDF</button>
                      <button type="button" class="btn btn-pink waves-effect">EXEL</button>
                      <button type="button" class="btn btn-success waves-effect">CSV</button>
                  </div> -->
              </div>
          </div>
      </div>
  </div>
</div>
{% endblock content %}